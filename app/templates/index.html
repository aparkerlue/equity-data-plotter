<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Plot historical stock prices." />
    <meta name="author" content="@aparkerlue">
    {% if ticker is defined %}
    <title>Historical Stock Data: {{ ticker }}</title>
    {% else %}
    <title>Historical Stock Data Look-Up</title>
    {% endif %}
    {% if script is defined %}
    <link rel="stylesheet" href="http://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.css" type="text/css" />
    <script type="text/javascript" src="http://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.js"></script>
    {{ script | indent(4) | safe }}
    {% endif %}
  </head>
  <body>
    <form action="{{ url_for('instrumdat.request_ticker') }}" method="get">
      <table>
        <tbody>
          <tr>
            <td>
              <input name="ticker" placeholder="Ticker symbol (e.g., AAPL)" />
            </td>
          </tr>
          <tr>
            <td>
              <input name="instr_variable" type="checkbox" value="close" checked />
              <label>Closing price</label>
            </td>
          </tr>
          <tr>
            <td>
              <input name="instr_variable" type="checkbox" value="adj_close" />
              <label>Adjusted closing price</label>
            </td>
          </tr>
          <tr>
            <td>
              <input name="instr_variable" type="checkbox" value="open" />
              <label>Opening price</label>
            </td>
          </tr>
          <tr>
            <td>
              <input name="instr_variable" type="checkbox" value="adj_open" />
              <label>Adjusted opening price</label>
            </td>
          </tr>
          <tr>
            <td>
              <input type="submit" value="Submit" />
            </td>
          </tr>
        </tbody>
      </table>
    </form>

    {% for message in get_flashed_messages() %}
    <div class="flash">{{ message }}</div>
    {% endfor %}

    {% if ticker is defined %}
    <h1>{{ ticker }}</h1>
    {% endif %}
    {% if script is defined %}
    {{ div | indent(4) | safe }}
    {% endif %}
  </body>
</html>
